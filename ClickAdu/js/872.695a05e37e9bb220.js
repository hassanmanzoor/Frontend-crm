"use strict";(self.webpackChunkssp_adv_front=self.webpackChunkssp_adv_front||[]).push([[872],{6872:(I,h,s)=>{s.r(h),s.d(h,{HomeModule:()=>B});var c=s(36895),d=s(10304),l=s(3868),_=s(50467),g=s(61354),e=s(94650),r=s(41202),x=s(97873),u=s(28746);let O=(()=>{class n{constructor(t){this.userDataService=t,this.userData$=this.userDataService.userData$,this.isUserDataLoading=!1}get isLoading(){return this.isUserDataLoading}ngOnInit(){this.refreshUserData()}refreshUserData(){this.isUserDataLoading=!0,this.userDataService.refreshData().pipe((0,u.x)(()=>this.isUserDataLoading=!1)).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(r.Mn))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["cl-home-balance-widget"]],hostVars:2,hostBindings:function(t,i){2&t&&e.\u0275\u0275classProp("home-widget--loading",i.isLoading)},decls:7,vars:3,consts:[["icon","wallet"],[1,"balance"],[1,"balance-value"]],template:function(t,i){if(1&t&&(e.\u0275\u0275element(0,"fa-icon",0),e.\u0275\u0275elementStart(1,"div",1)(2,"label"),e.\u0275\u0275text(3,"balance"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",2),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()()),2&t){let a;e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(null==(a=e.\u0275\u0275pipeBind1(6,1,i.userData$))?null:a.balance)}},dependencies:[l.BN,c.Ov],styles:["[_nghost-%COMP%]{flex:1 1 0;display:flex;justify-content:center;align-items:center;font-size:10px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}[_nghost-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:45px}@media screen and (max-width: 360px){[_nghost-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:32px}}[_nghost-%COMP%]   .balance[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}[_nghost-%COMP%]   .balance-value[_ngcontent-%COMP%]{color:#29aae1;font-weight:700;font-size:30px;white-space:nowrap}@media screen and (max-width: 360px){[_nghost-%COMP%]   .balance-value[_ngcontent-%COMP%]{font-size:22px}}"],changeDetection:0}),n})();var w=s(54004),M=s(61135),m=s(83181),p=s(48693),v=s(63569);function P(n,o){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",3)(2,"label"),e.\u0275\u0275text(3,"Impressions Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"clcFormatNumber"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",5)(9,"div")(10,"label"),e.\u0275\u0275text(11,"Conversions Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",6),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"clcFormatNumber"),e.\u0275\u0275pipe(15,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div")(17,"label"),e.\u0275\u0275text(18,"Clicks Daily"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",7),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"clcFormatNumber"),e.\u0275\u0275pipe(22,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,3,e.\u0275\u0275pipeBind1(7,5,t.statsData$).impressions)),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,7,e.\u0275\u0275pipeBind1(15,9,t.statsData$).conversions)),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,11,e.\u0275\u0275pipeBind1(22,13,t.statsData$).clicks))}}function y(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",8),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.updatingStateMessage," ")}}const C={clicks:0,conversions:0,impressions:0,isUpdatingState:!1};let S=(()=>{class n extends m.Kz{constructor(t){super(),this.statsService=t,this.statsDataSubj=new M.X({...C}),this.statsData$=this.statsDataSubj.asObservable(),this.routes={DASHBOARD:p.y.getUrl(p.$.DASHBOARD)},this.updatingStateMessage=g.SD,this.updatingStateResponse="UpdatingState",this.today=m.IT.getRanges().today,this.statsQuery={dateFrom:m.IT.format(this.today.start),dateTill:m.IT.format(this.today.end),groupBy:"date_time",orderBy:"impressions",orderDest:"desc",page:1,perPage:10,refresh:0},this.isLoading=!1,this.addSubject(this.statsDataSubj)}get isStatsLoading(){return this.isLoading}ngOnInit(){this.isLoading=!0,this.statsService.getStats(this.statsQuery).pipe((0,w.U)(t=>this.parseResponse(t)),(0,u.x)(()=>this.isLoading=!1)).subscribe(t=>this.statsDataSubj.next(this.formatStatsData(t)))}formatStatsData({isUpdatingState:t,items:i}){return t?{...C,isUpdatingState:!0}:i.reduce((a,f)=>({clicks:a.clicks+f.clicks,conversions:a.conversions+f.conversions,impressions:a.impressions+f.impressions}),this.statsDataSubj.value)}parseResponse(t){return"string"==typeof t?t===this.updatingStateResponse?{...g.s_,isUpdatingState:!0}:null:t}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(r.G_))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["cl-stats-daily-widget"]],hostVars:2,hostBindings:function(t,i){2&t&&e.\u0275\u0275classProp("home-widget--loading",i.isStatsLoading)},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:5,consts:[[1,"stats-daily-widget",3,"routerLink"],[4,"ngIf","ngIfElse"],["updatingState",""],[1,"column","column__left"],[1,"impressions-value"],[1,"column","column__right"],[1,"conversions-value"],[1,"clicks-value"],[1,"stats-error"]],template:function(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,P,23,15,"ng-container",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275template(3,y,2,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&t){const a=e.\u0275\u0275reference(4);e.\u0275\u0275property("routerLink",i.routes.DASHBOARD),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(2,3,i.statsData$).isUpdatingState)("ngIfElse",a)}},dependencies:[c.O5,d.rH,c.Ov,v.ws],styles:[".stats-daily-widget[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;justify-content:space-between;padding:0 10px}.stats-daily-widget[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.stats-daily-widget[_ngcontent-%COMP%]   .column__left[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:10px}.stats-daily-widget[_ngcontent-%COMP%]   .column__left[_ngcontent-%COMP%]   .impressions-value[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#29aae1}@media screen and (max-width: 360px){.stats-daily-widget[_ngcontent-%COMP%]   .column__left[_ngcontent-%COMP%]   .impressions-value[_ngcontent-%COMP%]{font-size:22px}}.stats-daily-widget[_ngcontent-%COMP%]   .column__right[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:8px}.stats-daily-widget[_ngcontent-%COMP%]   .column__right[_ngcontent-%COMP%]   .conversions-value[_ngcontent-%COMP%], .stats-daily-widget[_ngcontent-%COMP%]   .column__right[_ngcontent-%COMP%]   .clicks-value[_ngcontent-%COMP%]{font-weight:700;font-size:26px}@media screen and (max-width: 360px){.stats-daily-widget[_ngcontent-%COMP%]   .column__right[_ngcontent-%COMP%]   .conversions-value[_ngcontent-%COMP%], .stats-daily-widget[_ngcontent-%COMP%]   .column__right[_ngcontent-%COMP%]   .clicks-value[_ngcontent-%COMP%]{font-size:18px}}.stats-daily-widget[_ngcontent-%COMP%]   .column__right[_ngcontent-%COMP%]   .conversions-value[_ngcontent-%COMP%]{color:#d86c3b}.stats-daily-widget[_ngcontent-%COMP%]   .column__right[_ngcontent-%COMP%]   .clicks-value[_ngcontent-%COMP%]{color:#559a25}.stats-daily-widget[_ngcontent-%COMP%]   .stats-error[_ngcontent-%COMP%]{display:flex;align-items:center;color:#c33}"],changeDetection:0}),n})();const b=function(){return["far","gem"]};let D=(()=>{class n{constructor(t,i){this.windowRefService=t,this.newsAndOffersService=i,this.lastNews=this.newsAndOffersService.getActualNews()[0],this.routes={NEWSNOFFERS:p.y.getUrl(p.$.NEWSNOFFERS)}}openNews(){this.windowRefService.nativeWindow.open(this.lastNews.link,"_blank")}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(r.fw),e.\u0275\u0275directiveInject(r.dy))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["cl-news-and-offers-widget"]],decls:16,vars:8,consts:[[1,"news-and-offers-widget__current-news",3,"click"],["alt","",3,"src"],[1,"news-and-offers-widget__current-news__content"],[1,"news-and-offers-widget__current-news__content__bottom"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"news-and-offers-widget__btn",3,"routerLink"],[3,"icon"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275listener("click",function(){return i.openNews()}),e.\u0275\u0275element(1,"img",1),e.\u0275\u0275elementStart(2,"div",2)(3,"h3"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",3)(8,"div"),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"a",4),e.\u0275\u0275text(11,"Learn more >>>"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(12,"div",5),e.\u0275\u0275element(13,"fa-icon",6),e.\u0275\u0275elementStart(14,"span"),e.\u0275\u0275text(15,"News & Offers"),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("src","/assets/img/news/",i.lastNews.img,"",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(i.lastNews.title),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(i.lastNews.text),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("Expires in: ",i.lastNews.expire,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("href",i.lastNews.link,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275property("routerLink",i.routes.NEWSNOFFERS),e.\u0275\u0275advance(1),e.\u0275\u0275property("icon",e.\u0275\u0275pureFunction0(7,b)))},dependencies:[l.BN,d.rH],styles:[".home-widget[_nghost-%COMP%]{padding:0;background-color:#fff;flex-direction:column;color:inherit}.home-widget[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:8px}.home-widget[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}@media screen and (max-width: 360px){.home-widget[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:6px}.home-widget[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-bottom:6px}.home-widget[_nghost-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px}}.news-and-offers-widget__current-news[_ngcontent-%COMP%]{display:flex;flex-direction:column;box-shadow:1px 1px 10px #0003}.news-and-offers-widget__current-news[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.news-and-offers-widget__current-news__content[_ngcontent-%COMP%]{padding:10px}.news-and-offers-widget__current-news__content__bottom[_ngcontent-%COMP%]{font-size:12px;display:flex;justify-content:space-between}.news-and-offers-widget__btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;font-family:sans-serif;font-size:16px;font-weight:700;background-color:#00b4ff;color:#fff}.news-and-offers-widget__btn[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.news-and-offers-widget__btn[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:5px}.news-and-offers-widget__btn[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:20px}"],changeDetection:0}),n})();function E(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.addFunds())}),e.\u0275\u0275element(1,"fa-icon",4),e.\u0275\u0275elementStart(2,"label"),e.\u0275\u0275text(3,"Add Funds"),e.\u0275\u0275elementEnd()()}}let z=(()=>{class n{constructor(t,i){this.zeroBalanceService=t,this.userService=i}addFunds(){this.zeroBalanceService.show()}canShowAddFunds(){return this.userService.hasRole(this.userService.get(),g.G7.ROLE_PAYMENT_AVAILABLE)&&this.userService.get().worldCheckStatus!==g.D$.REJECTED}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(_.Cs),e.\u0275\u0275directiveInject(r.KD))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["cl-home"]],decls:6,vars:1,consts:[[1,"home__finance"],[1,"home-widget"],["class","home-widget home-widget__add-funds",3,"click",4,"ngIf"],[1,"home-widget","home-widget__add-funds",3,"click"],["icon","plus"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"cl-home-balance-widget",1),e.\u0275\u0275template(2,E,4,0,"div",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(3,"cl-stats-daily-widget",1)(4,"cl-news-and-offers-widget",1)(5,"cl-zero-balance")),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.canShowAddFunds()))},dependencies:[c.O5,l.BN,x.O,O,S,D],styles:['[_nghost-%COMP%]{display:flex;flex-direction:column;padding:16px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:8px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}@media screen and (max-width: 360px){[_nghost-%COMP%]{padding:12px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-top:6px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-bottom:6px}}.home-widget[_ngcontent-%COMP%]{display:flex;min-height:100px;color:#627480;font-family:sans-serif;padding:10px;background-color:#e7eef4}.home-widget--loading[_ngcontent-%COMP%]{position:relative}.home-widget--loading[_ngcontent-%COMP%]:before{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(255,255,255,.7);z-index:1000;content:""}.home-widget--loading[_ngcontent-%COMP%]:after{width:26px;height:26px;border:3px solid;border-color:#7A7A7A #adadad #adadad;border-radius:50%;animation:spin .5s linear infinite;content:"";position:absolute;top:50%;left:50%;margin-left:-13px;margin-top:-13px;display:block;z-index:1001}.home-widget--loading[_ngcontent-%COMP%]:before{z-index:1}.home-widget__add-funds[_ngcontent-%COMP%]{flex:1 1 0;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:16px;font-weight:700;background-color:#cae5f8}@media screen and (max-width: 360px){.home-widget__add-funds[_ngcontent-%COMP%]{font-size:14px}.home-widget__add-funds[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:28px}}.home-widget__add-funds[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:32px}.home-widget__add-funds[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:center}.home__finance[_ngcontent-%COMP%]{display:flex}.home__finance[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-left:8px}.home__finance[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}@media screen and (max-width: 360px){.home__finance[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-left:8px}.home__finance[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}}'],changeDetection:0}),n})(),B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[c.ez,l.uH,_.m8,d.Bz.forChild([{path:"",component:z}]),d.Bz]}),n})()}}]);