"use strict";(self.webpackChunkssp_adv_front=self.webpackChunkssp_adv_front||[]).push([[815],{74598:(k,R,s)=>{s.d(R,{T:()=>Q});var n=s(50727),C=s(61354),e=s(94650),T=s(41202),E=s(83181),u=s(36895),f=s(24006),M=s(22529),b=s(61135),A=s(74928),c=s(63569);function S(r,d){1&r&&(e.\u0275\u0275elementStart(0,"label",11),e.\u0275\u0275text(1," Messenger "),e.\u0275\u0275elementEnd())}function _(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"option",12),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=d.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.title," ")}}function x(r,d){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1," Messenger ID "),e.\u0275\u0275elementEnd())}function l(r,d){1&r&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1," Messenger and nickname"),e.\u0275\u0275elementEnd())}function V(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"label",11),e.\u0275\u0275template(1,x,2,0,"span",16),e.\u0275\u0275template(2,l,2,0,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275reference(3),o=e.\u0275\u0275nextContext(2).clcVar,m=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.value!==m.messengers.OTHER)("ngIfElse",t)}}function w(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",13)(1,"clc-form-group-error",14),e.\u0275\u0275template(2,V,4,2,"label",5),e.\u0275\u0275elementStart(3,"div",6),e.\u0275\u0275element(4,"input",15),e.\u0275\u0275elementEnd()()()),2&r){const t=d.clcVar,o=e.\u0275\u0275nextContext().clcVar,m=e.\u0275\u0275nextContext(),I=m.index,F=m.first,O=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("for","nickname_"+I),e.\u0275\u0275property("error",O.error&&(null==O.error[I]?null:O.error[I].nickname))("model",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",F),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("id","nickname_"+I),e.\u0275\u0275propertyInterpolate("placeholder",O.placeholders[o.value]),e.\u0275\u0275property("formControl",t)}}function p(r,d){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18)(1,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext(2).index,I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.remove(m))}),e.\u0275\u0275element(2,"i",20),e.\u0275\u0275elementEnd()()}}function D(r,d){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",4),e.\u0275\u0275template(2,S,2,0,"label",5),e.\u0275\u0275elementStart(3,"div",6)(4,"select",7),e.\u0275\u0275template(5,_,2,2,"option",8),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(7,w,5,7,"div",9),e.\u0275\u0275template(8,p,3,0,"div",10),e.\u0275\u0275elementContainerEnd()),2&r){const t=d.clcVar,o=e.\u0275\u0275nextContext(),m=o.first,I=o.index,F=o.$implicit,O=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("id","messenger_"+I),e.\u0275\u0275property("formControl",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(6,6,O.messengerListForItems$)[I]||O.messengerItemsList),e.\u0275\u0275advance(2),e.\u0275\u0275property("clcVar",F.get("nickname")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!m)}}function j(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275template(1,D,9,8,"ng-container",3),e.\u0275\u0275elementEnd()),2&r){const t=d.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("clcVar",t.get("type"))}}function i(r,d){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"a",21),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.add())}),e.\u0275\u0275text(2," + Add another messenger "),e.\u0275\u0275elementEnd()()}}let g=(()=>{class r extends E.Kz{constructor(t){super(),this.messengerInputService=t,this.messengers=C.Fy,this.maxMsgrCount=3,this.placeholders={},this.messengerListForItemsSubj=new b.X({}),this.messengerListForItems$=this.messengerListForItemsSubj.asObservable(),this.allMessengerItemsList=this.messengerInputService.getMsgrOptionList(),this.addSubject(this.messengerListForItemsSubj),this.placeholders=this.allMessengerItemsList.reduce((o,m)=>({...o,[m.id]:m.placeholder}),{}),this.messengerItemsList=this.allMessengerItemsList.filter(o=>!o.isDisabledForNew),this.disabledItems=this.allMessengerItemsList.filter(o=>o.isDisabledForNew).reduce((o,m)=>({...o,[m.id]:m}),{})}ngOnInit(){this.formArray=this.form.controls.messengers,this.subscription.add(this.formArray.valueChanges.pipe((0,M.o)(()=>this.formArray.pristine)).subscribe(t=>{this.messengerListForItemsSubj.next(t.reduce((o,m,I)=>(this.disabledItems[m.type]&&(o[I]=[this.disabledItems[m.type],...this.messengerItemsList]),o),{}))}))}add(){this.formArray.push(new f.cw({type:new f.NI(C.Fy.SKYPE),nickname:new f.NI("",[f.kI.required])}))}remove(t){this.formArray.removeAt(t);const o=this.messengerListForItemsSubj.value;delete o[t],this.messengerListForItemsSubj.next(o)}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(A.I))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["cl-messenger-input-form"]],inputs:{form:"form",error:"error",multiple:"multiple"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[["class","messenger-input",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"messenger-input"],[4,"clcVar"],[1,"form-group","messenger-input__type"],["class","label label_required",4,"ngIf"],[1,"form-group__input"],["name","messengerInputType",1,"select",3,"formControl","id"],[3,"value",4,"ngFor","ngForOf"],["class","form-group messenger-input__nickname",4,"clcVar"],["class","messenger-input_button",4,"ngIf"],[1,"label","label_required"],[3,"value"],[1,"form-group","messenger-input__nickname"],[3,"error","model","for"],["name","messengerNickname","type","text",1,"input",3,"formControl","id","placeholder"],[4,"ngIf","ngIfElse"],["other",""],[1,"messenger-input_button"],["type","button",1,"button","button_no-style",3,"click"],[1,"fa","fa-times"],[1,"add-msgr-link",3,"click"]],template:function(t,o){1&t&&(e.\u0275\u0275template(0,j,2,1,"div",0),e.\u0275\u0275template(1,i,3,0,"div",1)),2&t&&(e.\u0275\u0275property("ngForOf",null==o.formArray?null:o.formArray.controls),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",o.multiple&&(null==o.formArray||null==o.formArray.controls?null:o.formArray.controls.length)<=o.maxMsgrCount))},dependencies:[u.sg,u.O5,f.YN,f.Kr,f.Fj,f.EJ,f.JJ,c.Kx,f.oH,c.gC,u.Ov],styles:[".messenger-input[_ngcontent-%COMP%]{display:flex}.messenger-input__type[_ngcontent-%COMP%]{margin-right:15px}.messenger-input__type[_ngcontent-%COMP%]{flex:0 0 100px}.messenger-input__nickname[_ngcontent-%COMP%]{flex:1 0 100px}.messenger-input[_ngcontent-%COMP%]   .form-group__input[_ngcontent-%COMP%]{position:relative}.messenger-input_button[_ngcontent-%COMP%]   .button_no-style[_ngcontent-%COMP%]{line-height:0;color:#ed3030;font-size:16px;padding:0;width:25px;background:none}"],changeDetection:0}),r})();var a=s(13466);function v(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"label",19),e.\u0275\u0275element(1,"input",20),e.\u0275\u0275elementStart(2,"span",21),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&r){const t=d.$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275classProp("radio_error",null==o.errors||null==o.errors.legalInfo?null:o.errors.legalInfo.accountType),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",o.accountTypeCtrl)("value",t.id)("id","qaAccountType-"+t.id),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.title)}}function y(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",2),e.\u0275\u0275elementContainer(1,22),e.\u0275\u0275elementStart(2,"div",25)(3,"clc-checkbox",26),e.\u0275\u0275text(4," No registered VAT "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"clc-hint",27),e.\u0275\u0275elementEnd()()),2&r){const t=e.\u0275\u0275nextContext(2),o=e.\u0275\u0275reference(24);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o),e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",t.noVatCtrl)}}function h(r,d){}function P(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementContainer(1,22)(2,22)(3,22),e.\u0275\u0275template(4,y,6,2,"div",23),e.\u0275\u0275elementStart(5,"h2",24),e.\u0275\u0275text(6," Contact information "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(7,22),e.\u0275\u0275elementStart(8,"div",2),e.\u0275\u0275elementContainer(9,22)(10,22),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,h,0,0,"ng-template",22),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(26),m=e.\u0275\u0275reference(14),I=e.\u0275\u0275reference(16),F=e.\u0275\u0275reference(12),O=e.\u0275\u0275reference(18),ee=e.\u0275\u0275reference(22),te=e.\u0275\u0275reference(20);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",m),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",I),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isVatIdNeeded),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngTemplateOutlet",F),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngTemplateOutlet",O),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",ee),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",te)}}function L(r,d){if(1&r&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementContainer(1,22),e.\u0275\u0275elementContainerEnd()),2&r){e.\u0275\u0275nextContext(3);const t=e.\u0275\u0275reference(24);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",t)}}function G(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",25)(2,"clc-checkbox",29),e.\u0275\u0275text(3," I have a VAT ID "),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"clc-hint",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,L,2,1,"ng-container",31),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("formControl",t.isVatExistCtrl),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.isVatExistCtrl.value)}}function B(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"fieldset")(1,"legend"),e.\u0275\u0275text(2,"Contact information"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",32),e.\u0275\u0275text(4," With completed contact information our manager can assist you in launching a successful campaign. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(5,22)(6,22),e.\u0275\u0275elementEnd()),2&r){e.\u0275\u0275nextContext(2);const t=e.\u0275\u0275reference(18),o=e.\u0275\u0275reference(20);e.\u0275\u0275advance(5),e.\u0275\u0275property("ngTemplateOutlet",t),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o)}}function U(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275elementContainer(1,22)(2,22)(3,22),e.\u0275\u0275template(4,G,6,2,"div",23),e.\u0275\u0275template(5,B,7,2,"fieldset",28),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(12),m=e.\u0275\u0275reference(14),I=e.\u0275\u0275reference(16),F=e.\u0275\u0275reference(28);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",m),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",I),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isVatIdNeeded),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEditMode)("ngIfElse",F)}}function H(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",33),e.\u0275\u0275element(2,"clc-labeled-input",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",33),e.\u0275\u0275element(4,"clc-labeled-input",35),e.\u0275\u0275elementEnd()()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("error",null==t.errors||null==t.errors.legalInfo?null:t.errors.legalInfo.firstName)("formControl",t.firstNameCtrl)("redBorder",t.isFieldInvalid("firstName"))("required",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("error",null==t.errors||null==t.errors.legalInfo?null:t.errors.legalInfo.lastName)("formControl",t.lastNameCtrl)("redBorder",t.isFieldInvalid("secondName"))("required",!0)}}function Y(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",2)(1,"div",33),e.\u0275\u0275element(2,"clc-labeled-input",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",33),e.\u0275\u0275element(4,"clc-labeled-input",37),e.\u0275\u0275elementEnd()()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("autocompleteOptions",t.countriesAutocompleteOptions)("error",null==t.errors||null==t.errors.legalInfo?null:t.errors.legalInfo.residenceCountry)("formControl",t.residenceCountryCtrl)("label",t.accountTypeCtrl.value===t.accountTypes.COMPANY?"Country":"Country of residence")("redBorder",t.isFieldInvalid("residenceCountry"))("required",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("error",null==t.errors||null==t.errors.contactInfo?null:t.errors.contactInfo.city)("formControl",t.cityCtrl)("redBorder",t.isFieldInvalid("city"))("required",!0)}}function z(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275element(1,"clc-labeled-input",38),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("error",null==t.errors||null==t.errors.contactInfo?null:t.errors.contactInfo.address)("formControl",t.addressCtrl)("redBorder",t.isFieldInvalid("address"))("required",!0)}}function q(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275element(1,"clc-labeled-input",39),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("error",null==t.errors?null:t.errors.email)("formControl",t.emailCtrl)("required",!0)}}function $(r,d){if(1&r&&e.\u0275\u0275element(0,"cl-messenger-input-form",40),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("error",null==t.errors||null==t.errors.contactInfo?null:t.errors.contactInfo.messengers)("form",t.contactInfoGrp)("multiple",!0)}}function W(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"clc-form-group-error",41)(1,"label",42),e.\u0275\u0275text(2,"Phone"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",43),e.\u0275\u0275element(4,"input",44),e.\u0275\u0275elementEnd()()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("error",null==t.errors||null==t.errors.contactInfo?null:t.errors.contactInfo.phoneNumber)("model",t.phoneNumberCtrl.value),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngClass",t.isPhoneHasPlus()?"":"form-group__input_phone"),e.\u0275\u0275advance(1),e.\u0275\u0275property("formControl",t.phoneNumberCtrl)}}function K(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275element(1,"clc-labeled-input",45),e.\u0275\u0275elementStart(2,"div",46)(3,"a",47),e.\u0275\u0275text(4," VAT ID format info "),e.\u0275\u0275elementEnd()()()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("error",null==t.errors||null==t.errors.legalInfo?null:t.errors.legalInfo.vat)("formControl",t.vatCtrl)("required",!0)}}function J(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275element(1,"clc-labeled-input",48),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("error",null==t.errors||null==t.errors.legalInfo?null:t.errors.legalInfo.companyName)("formControl",t.companyNameCtrl)("redBorder",t.isFieldInvalid("companyName"))("required",!0)}}function X(r,d){}function Z(r,d){if(1&r&&(e.\u0275\u0275elementStart(0,"h2",49),e.\u0275\u0275text(1,"Contact information"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275element(3,"cl-phone-number",50),e.\u0275\u0275elementContainer(4,22),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,X,0,0,"ng-template",22)),2&r){const t=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(18),m=e.\u0275\u0275reference(20);e.\u0275\u0275advance(3),e.\u0275\u0275property("formControl",t.phoneNumberCtrl)("lastProfileUpdate",t.lastProfileUpdate)("needVerification",t.needPhoneVerification)("error",null==t.errors||null==t.errors.contactInfo?null:t.errors.contactInfo.phoneNumber),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",o),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngTemplateOutlet",m)}}let Q=(()=>{class r{constructor(t,o){this.countriesService=t,this.configService=o,this.needPhoneVerification=this.configService.get("needPhoneVerification"),this.accountTypes=C.tO,this.accountTypesList=[{id:C.tO.INDIVIDUAL,title:"Individual"},{id:C.tO.COMPANY,title:"Company"}],this.subscription=new n.w0}ngOnInit(){this.setControlsSelectors(),this.subscription.add(this.accountTypeCtrl.valueChanges.subscribe(t=>this.updateVatFields(t))),this.subscription.add(this.accountTypeCtrl.valueChanges.subscribe(t=>{t===C.tO.COMPANY?this.companyNameCtrl.enable():this.companyNameCtrl.disable()})),this.subscription.add(this.residenceCountryCtrl.valueChanges.subscribe(t=>{this.isVatIdNeeded=!this.skipVat&&"object"==typeof t&&this.countriesService.isCountryRequiringVAT(t?.id,this.vatCountries),this.updateVatFields()})),this.subscription.add(this.isVatExistCtrl.valueChanges.subscribe(t=>this.disableVatCtrl(!t))),this.subscription.add(this.noVatCtrl.valueChanges.subscribe(t=>this.disableVatCtrl(t)))}ngOnChanges(t){"countries"in t&&(this.countriesAutocompleteOptions={localData:this.countries,pause:100,minLength:1,searchFields:"title",titleField:"title",autoMatch:!0})}isPhoneHasPlus(){return this.phoneNumberCtrl.value&&"string"==typeof this.phoneNumberCtrl.value&&"+"===this.phoneNumberCtrl.value.trim()[0]}ngOnDestroy(){this.subscription.unsubscribe()}isFieldInvalid(t){return!!this.profileInfo?.legalInfo?.rejectedFields&&this.profileInfo.legalInfo.rejectedFields.includes(t)}setControlsSelectors(){this.legalInfoGrp=this.form.controls.legalInfo,this.contactInfoGrp=this.form.controls.contactInfo,this.accountTypeCtrl=this.legalInfoGrp.controls.accountType,this.firstNameCtrl=this.legalInfoGrp.controls.firstName,this.lastNameCtrl=this.legalInfoGrp.controls.lastName,this.residenceCountryCtrl=this.legalInfoGrp.controls.residenceCountry,this.isVatExistCtrl=this.legalInfoGrp.controls.vatExist,this.noVatCtrl=this.legalInfoGrp.controls.noVat,this.vatCtrl=this.legalInfoGrp.controls.vat,this.companyNameCtrl=this.legalInfoGrp.controls.companyName,this.cityCtrl=this.contactInfoGrp.controls.city,this.addressCtrl=this.contactInfoGrp.controls.address,this.emailCtrl=this.form.controls.email,this.phoneNumberCtrl=this.contactInfoGrp.controls.phoneNumber}updateVatFields(t=this.accountTypeCtrl.value){if(this.isVatIdNeeded){let o;t===C.tO.COMPANY?(this.noVatCtrl.enable(),this.isVatExistCtrl.disable(),o=this.noVatCtrl.value):(this.isVatExistCtrl.enable(),this.noVatCtrl.disable(),o=!this.isVatExistCtrl.value),this.disableVatCtrl(o)}else this.noVatCtrl.disable(),this.vatCtrl.disable(),this.isVatExistCtrl.disable()}disableVatCtrl(t){t?this.vatCtrl.disable():this.vatCtrl.enable()}}return r.\u0275fac=function(t){return new(t||r)(e.\u0275\u0275directiveInject(T.Kj),e.\u0275\u0275directiveInject(E.E4))},r.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["cl-contact-info-form"]],inputs:{form:"form",errors:"errors",countries:"countries",vatCountries:"vatCountries",isEditMode:"isEditMode",lastProfileUpdate:"lastProfileUpdate",skipVat:"skipVat",profileInfo:"profileInfo"},features:[e.\u0275\u0275NgOnChangesFeature],decls:29,vars:6,consts:[[3,"formGroup"],[1,"signup__form"],[1,"form_columns-two"],["for","accountType",1,"form-group","form-group-radio",3,"error","model"],[1,"label","label_required"],[1,"radio-group"],["class","radio",3,"radio_error",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["firstAndLastNameTemplate",""],["countryAndCityTemplate",""],["addressTemplate",""],["emailTemplate",""],["messengersTemplate",""],["phoneTemplate",""],["vatTemplate",""],["companyNameTemplate",""],["editContactInfo",""],[1,"radio"],["name","accountType","type","radio",1,"radio__input",3,"formControl","value","id"],[1,"radio__label"],[3,"ngTemplateOutlet"],["class","form_columns-two",4,"ngIf"],[1,"title","title_size-2"],[1,"form-group","form-group__vertical-middle"],["id","noVat","qaMark","qa-no-vat",3,"formControl"],["key","AUTH.NO_REGISTERED_VAT_ID","id","qa-no-vat-hint",1,"for-checkbox"],[4,"ngIf","ngIfElse"],["qaMark","qa-vat-exist",3,"formControl"],["key","AUTH.I_HAVE_A_VAT_ID","id","qa-vat-exist-hint",1,"for-checkbox"],[4,"ngIf"],[1,"label","label2"],[1,"form-group"],["label","First name","name","firstName",3,"error","formControl","redBorder","required"],["label","Last name","name","lastName",3,"error","formControl","redBorder","required"],["name","residenceCountry",3,"autocompleteOptions","error","formControl","label","redBorder","required"],["label","City","name","city",3,"error","formControl","redBorder","required"],["label","Address","name","address",3,"error","formControl","redBorder","required"],["label","Email","name","email",3,"error","formControl","required"],[3,"error","form","multiple"],["view","true","for","phoneNumber",1,"form-group",3,"error","model"],["for","phoneNumber",1,"label"],[1,"form-group__input",3,"ngClass"],["id","phoneNumber","name","phoneNumber","placeholder","442081333312","type","text",1,"input",3,"formControl"],["label","European VAT ID","name","vatId",3,"error","formControl","required"],[1,"form-group__tip"],["href","http://ec.europa.eu/taxation_customs/vies/faq.html#item_11","target","_blank","rel","noopener noreferrer"],["label","Company name (Legal name)","name","companyName",3,"error","formControl","redBorder","required"],[1,"title","title_size-1"],["label","Phone",1,"form-group",3,"formControl","lastProfileUpdate","needVerification","error"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"clc-form-group-error",3)(4,"label",4),e.\u0275\u0275text(5,"Account type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275template(7,v,4,6,"label",6),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementContainerStart(8,7),e.\u0275\u0275template(9,P,12,8,"div",8),e.\u0275\u0275template(10,U,6,6,"div",9),e.\u0275\u0275elementContainerEnd(),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,H,5,8,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(13,Y,5,10,"ng-template",null,11,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(15,z,2,4,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(17,q,2,3,"ng-template",null,13,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(19,$,1,3,"ng-template",null,14,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(21,W,5,4,"ng-template",null,15,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(23,K,5,3,"ng-template",null,16,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(25,J,2,4,"ng-template",null,17,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(27,Z,6,6,"ng-template",null,18,e.\u0275\u0275templateRefExtractor)),2&t&&(e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(3),e.\u0275\u0275property("error",null==o.errors||null==o.errors.legalInfo?null:o.errors.legalInfo.accountType)("model",o.accountTypeCtrl.value),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",o.accountTypesList),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitch",o.accountTypeCtrl.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.accountTypes.COMPANY))},dependencies:[u.mk,u.sg,u.O5,u.tP,u.RF,u.n9,u.ED,f.Fj,f._,f.JJ,f.JL,f.Q7,f.oH,f.sg,g,a.r,c.VZ,c.Mu,c.Kx,c.bK],encapsulation:2,changeDetection:0}),r})()},28605:(k,R,s)=>{s.d(R,{IN:()=>l,kH:()=>V,FA:()=>w});var n=s(24006),C=s(83181),e=s(61354);const T=new RegExp(/^[a-zA-Z\.\-\s]+$/),E=n.kI.pattern(T),u={pattern:'Only english letters, space, "-" and "." are allowed'},f=new RegExp(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,6}$/i),M=n.kI.pattern(f),N=new RegExp(/^[A-z\xc0-\xd6\xd8-\xf6\xf8-\xff0-9.,_\\\/\-\s]+$/),A=n.kI.pattern(N),_=n.kI.maxLength(64),x={maxlength:"This field should contain at most 64 characters."};var l=(()=>{return(p=l||(l={})).ACCOUNT_TYPE="accountType",p.FIRST_NAME="firstName",p.LAST_NAME="lastName",p.COUNTRY="residenceCountry",p.CITY="city",p.ADDRESS="address",p.IS_VAT_EXIST="vatExist",p.NO_VAT="noVat",p.VAT="vat",p.EMAIL="email",p.MESSENGERS="messengers",p.COMPANY_NAME="companyName",p.PHONE_NUMBER="phoneNumber",p.LEGAL_INFO_GROUP="legalInfo",p.CONTACT_INFO_GROUP="contactInfo",p.PREFERRED_CONTACT="preferredContact",p.REFERRAL_CODE="referralCode",p.MESSENGERS_TYPE="type",p.MESSENGERS_NICKNAME="nickname",p.NEW_TERMS_ACCEPTED="newTermsAccepted",p.NEWS_SUBSCRIBED="newsSubscribed",l;var p})();const V={[l.ACCOUNT_TYPE]:{required:"Select Account type."},[l.EMAIL]:{pattern:"It's not a valid email address"},[l.FIRST_NAME]:{...u,...x},[l.LAST_NAME]:{...u,...x},[l.CITY]:{...u,...x},[l.ADDRESS]:{pattern:'Only english letters, numbers, space, "-", "_", ",", "/", "\\" and "." are allowed'},[l.MESSENGERS_NICKNAME]:{required:"Messenger should not be blank."}};function w(){return new n.cw({[l.EMAIL]:new n.NI("",[n.kI.required,M]),[l.REFERRAL_CODE]:new n.NI(""),[l.LEGAL_INFO_GROUP]:new n.cw({[l.ACCOUNT_TYPE]:new n.NI(null,[n.kI.required]),[l.FIRST_NAME]:new n.NI("",[n.kI.required,E,_]),[l.LAST_NAME]:new n.NI("",[n.kI.required,E,_]),[l.COUNTRY]:new n.NI(null,[n.kI.required]),[l.COMPANY_NAME]:new n.NI({value:"",disabled:!0},[n.kI.required]),[l.IS_VAT_EXIST]:new n.NI({value:!1,disabled:!0}),[l.NO_VAT]:new n.NI({value:!1,disabled:!0}),[l.VAT]:new n.NI({value:"",disabled:!0},[n.kI.required]),[l.NEW_TERMS_ACCEPTED]:new n.NI({value:!1,disabled:!0},[n.kI.requiredTrue])}),[l.CONTACT_INFO_GROUP]:new n.cw({[l.CITY]:new n.NI("",[n.kI.required,E,_]),[l.ADDRESS]:new n.NI("",[n.kI.required,A]),[l.MESSENGERS]:new C.s$([new n.cw({[l.MESSENGERS_TYPE]:new n.NI(e.Fy.SKYPE),[l.MESSENGERS_NICKNAME]:new n.NI("",[n.kI.required])})]),[l.PREFERRED_CONTACT]:new n.NI(e.AV.EMAIL),[l.PHONE_NUMBER]:new n.NI(null),[l.NEWS_SUBSCRIBED]:new n.NI(!1)})})}},24098:(k,R,s)=>{s.d(R,{Ew:()=>A});var n=s(36895),C=s(24006),e=s(3868),T=s(94700),E=s(29942),u=s(41202),f=s(10304),M=s(50467),b=s(63569),N=s(94650);let A=(()=>{class c{}return c.\u0275fac=function(_){return new(_||c)},c.\u0275mod=N.\u0275\u0275defineNgModule({type:c}),c.\u0275inj=N.\u0275\u0275defineInjector({providers:[E.w,u.e8],imports:[n.ez,C.UX,e.uH,T.a,T.lQ,f.Bz,M.m8,b.VZ,b.Mu,b.Kx,b.MZ,b.bK]}),c})()},29942:(k,R,s)=>{s.d(R,{w:()=>A});var n=s(24006),C=s(83181),e=(()=>{return(c=e||(e={})).CONTACT_INFO_FORM="contactInfoGroup",c.ADVERTISER_INFO_FORM="advertisingInfoGroup",c.G_RECAPTCHA_RESPONSE="gRecaptchaResponse",e;var c})(),T=s(28605),u=(()=>{return(c=u||(u={})).SALESFORCE_GROUP="salesforce",c.COMPANY_BUDGET="companyBudget",c.COMPANY_DESCRIPTION="companyDesc",c.BONUS_CODE="bonusCode",c.I_AGREE="iAgree",u;var c})(),b=s(94650);let A=(()=>{class c{constructor(_){this.configService=_,this.contactInfoGroup=(0,T.FA)(),this.advertisingInfoGroup=function M(c){return new n.cw({[u.SALESFORCE_GROUP]:new n.cw({[u.COMPANY_BUDGET]:new n.NI(null,[n.kI.required,n.kI.min(c.get("signupMinBudget"))]),[u.COMPANY_DESCRIPTION]:new n.NI("",[n.kI.required,n.kI.minLength(10)]),[u.I_AGREE]:new n.NI(!1,[n.kI.requiredTrue])}),[u.BONUS_CODE]:new n.NI("")})}(this.configService),this.form=new n.cw({[e.CONTACT_INFO_FORM]:this.contactInfoGroup,[e.ADVERTISER_INFO_FORM]:this.advertisingInfoGroup,[e.G_RECAPTCHA_RESPONSE]:new n.NI(null)})}prepareData(_=this.form){const{contactInfoGroup:{legalInfo:x,contactInfo:l,email:V,referralCode:w},advertisingInfoGroup:{salesforce:p,...D},gRecaptchaResponse:j}=_.value,i=x?.residenceCountry?.id||"",g=l.phoneNumber&&l.phoneNumber.replace(/\D/g,"");return{legalInfo:{...x,residenceCountry:i},contactInfo:{...l,phoneNumber:g},metaData:{...D,salesforce:p},referralCode:w,email:V,gRecaptchaResponse:j}}getFormValidationErrors(){if(this.form.valid)return null;let _=C.$F.getFormErrors(this.contactInfoGroup,T.kH);const x=C.$F.getFormErrors(this.advertisingInfoGroup,(c=>({[u.COMPANY_BUDGET]:{min:`Min budget is $${c}`},[u.COMPANY_DESCRIPTION]:{required:"Short description should not be blank.",minlength:"Short description is too short. It should have 10 characters or more."},[u.I_AGREE]:{required:"You should agree to the terms."}}))(this.configService.get("signupMinBudget")));return x&&(_={..._||{},metaData:x}),this.form.get("gRecaptchaResponse").invalid&&(_={..._||{},gRecaptchaResponse:["reCAPTCHA Invalid"]}),_}}return c.\u0275fac=function(_){return new(_||c)(b.\u0275\u0275inject(C.E4))},c.\u0275prov=b.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac}),c})()},94700:(k,R,s)=>{s.d(R,{Vd:()=>D,a:()=>V,lQ:()=>j,wT:()=>x});var n=s(94650),C=s(36895),e=s(39646),T=s(61135),E=s(24006);const u=new n.InjectionToken("recaptcha-language"),f=new n.InjectionToken("recaptcha-base-url"),M=new n.InjectionToken("recaptcha-nonce-tag"),b=new n.InjectionToken("recaptcha-settings"),N=new n.InjectionToken("recaptcha-v3-site-key"),c_loadScript=function A(i,g,a,v,y){window.ng2recaptchaloaded=()=>{g(grecaptcha)};const h=document.createElement("script");h.innerHTML="",h.src=`${v||"https://www.google.com/recaptcha/api.js"}?render=${i}&onload=ng2recaptchaloaded${a}`,y&&(h.nonce=y),h.async=!0,h.defer=!0,document.head.appendChild(h)};let S=(()=>{class i{constructor(a,v,y,h,P){this.platformId=a,this.language=v,this.baseUrl=y,this.nonce=h,this.v3SiteKey=P,this.init(),this.ready=(0,C.NF)(this.platformId)?i.ready.asObservable():(0,e.of)()}init(){if(!i.ready&&(0,C.NF)(this.platformId)){const a=new T.X(null);i.ready=a,c_loadScript(this.v3SiteKey||"explicit",h=>a.next(h),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return i.ready=null,i.\u0275fac=function(a){return new(a||i)(n.\u0275\u0275inject(n.PLATFORM_ID),n.\u0275\u0275inject(u,8),n.\u0275\u0275inject(f,8),n.\u0275\u0275inject(M,8),n.\u0275\u0275inject(N,8))},i.\u0275prov=n.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})(),_=0,x=(()=>{class i{constructor(a,v,y,h){this.elementRef=a,this.loader=v,this.zone=y,this.id="ngrecaptcha-"+_++,this.errorMode="default",this.resolved=new n.EventEmitter,this.error=new n.EventEmitter,h&&(this.siteKey=h.siteKey,this.theme=h.theme,this.type=h.type,this.size=h.size,this.badge=h.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(a=>{null!=a&&a.render instanceof Function&&(this.grecaptcha=a,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}errored(a){this.error.emit(a)}captchaResponseCallback(a){this.resolved.emit(a)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const a={badge:this.badge,callback:v=>{this.zone.run(()=>this.captchaResponseCallback(v))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(a["error-callback"]=(...v)=>{this.zone.run(()=>this.errored(v))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,a),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return i.\u0275fac=function(a){return new(a||i)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(S),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(b,8))},i.\u0275cmp=n.\u0275\u0275defineComponent({type:i,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(a,v){2&a&&n.\u0275\u0275attribute("id",v.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(a,v){},encapsulation:2}),i})(),l=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=n.\u0275\u0275defineInjector({}),i})(),V=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=n.\u0275\u0275defineInjector({providers:[S],imports:[l]}),i})(),D=(()=>{class i{constructor(a){this.host=a,this.requiresControllerReset=!1}writeValue(a){a?this.host.__unsafe_widgetValue!==a&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(a){this.onChange=a,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(a){this.onTouched=a}onResolve(a){this.onChange&&this.onChange(a),this.onTouched&&this.onTouched()}}return i.\u0275fac=function(a){return new(a||i)(n.\u0275\u0275directiveInject(x))},i.\u0275dir=n.\u0275\u0275defineDirective({type:i,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(a,v){1&a&&n.\u0275\u0275listener("resolved",function(h){return v.onResolve(h)})},features:[n.\u0275\u0275ProvidersFeature([{multi:!0,provide:E.JU,useExisting:(0,n.forwardRef)(()=>i)}])]}),i})(),j=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.u5,l]}),i})()}}]);